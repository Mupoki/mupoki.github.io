<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MproOS 3.0 (Sandbox)</title>
<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Segoe UI,Arial,sans-serif;}
body{
  height:100vh;overflow:hidden;
  background:url('https://picsum.photos/1920/1080?blur=3') center/cover no-repeat;
  transition:background 0.5s;
}
.taskbar{
  position:fixed;bottom:0;left:0;width:100%;height:48px;
  backdrop-filter:blur(12px);
  background-color:rgba(40,40,40,0.6);
  display:flex;align-items:center;justify-content:center;gap:16px;
  border-top:1px solid rgba(255,255,255,0.2);
}
.taskbar button{
  background:transparent;border:none;color:white;
  font-size:18px;cursor:pointer;padding:6px 12px;border-radius:6px;
}
.taskbar button:hover{background-color:rgba(255,255,255,0.15);}
.clock{position:absolute;right:12px;color:white;font-size:14px;}
.window{
  position:absolute;top:100px;left:100px;width:400px;height:300px;
  background-color:rgba(255,255,255,0.85);
  border-radius:10px;box-shadow:0 8px 20px rgba(0,0,0,0.2);
  display:none;flex-direction:column;overflow:hidden;
}
.window header{
  background-color:rgba(255,255,255,0.4);padding:8px;cursor:move;
  font-weight:600;
}
.window .content{flex:1;padding:10px;overflow:auto;}
#startMenu{
  position:fixed;bottom:55px;left:50%;transform:translateX(-50%);
  width:320px;background-color:rgba(255,255,255,0.9);
  border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.3);
  display:none;padding:15px;text-align:center;
}
#startMenu h3{margin-bottom:10px;}
#startMenu button{display:block;margin:6px auto;padding:8px 12px;}
.lockScreen{
  position:fixed;inset:0;background:#111;color:#fff;display:none;
  flex-direction:column;align-items:center;justify-content:center;
}
.lockScreen input{margin-top:12px;padding:6px 10px;}
</style>
</head>
<body>
<div id="startMenu">
  <h3>Start Menu</h3>
  <button onclick="openApp('browser')">Browser</button>
  <button onclick="openApp('files')">My Files</button>
  <button onclick="openApp('settings')">Settings</button>
  <button onclick="openApp('control')">Control Panel</button>
  <button onclick="lockScreen()">Lock Screen</button>
</div>

<!-- windows -->
<div id="browser" class="window"><header>Browser</header>
  <div class="content"><iframe src="https://www.bing.com" width="100%" height="100%"></iframe></div>
</div>
<div id="files" class="window"><header>My Files</header>
  <div class="content"><p>This is your file manager mockup.</p></div>
</div>
<div id="settings" class="window"><header>Settings</header>
  <div class="content">
    <label>Wallpaper URL:</label><br>
    <input id="wallURL" style="width:90%" placeholder="https://..."><br>
    <button onclick="changeWallpaper()">Set Wallpaper</button>
  </div>
</div>
<div id="control" class="window"><header>Control Panel</header>
  <div class="content"><p>System info & placeholder controls.</p></div>
</div>

<div class="lockScreen" id="lock">
  <h2>ðŸ”’ Locked</h2>
  <input id="unlockPass" type="password" placeholder="Enter password (default 1234)">
  <button onclick="unlock()">Unlock</button>
</div>

<div class="taskbar">
  <button onclick="toggleStart()">âŠž</button>
  <div class="clock" id="clock"></div>
</div>

<script>
// ----- start menu -----
const startMenu=document.getElementById('startMenu');
function toggleStart(){
  startMenu.style.display=startMenu.style.display==='none'||!startMenu.style.display?'block':'none';
}

// ----- open app -----
function openApp(id){
  startMenu.style.display='none';
  const w=document.getElementById(id);
  w.style.display='flex';
  bringToFront(w);
}
// draggable windows
let z=10;
document.querySelectorAll('.window').forEach(win=>{
  const header=win.querySelector('header');
  let offsetX,offsetY,drag=false;
  header.addEventListener('mousedown',e=>{
    drag=true;offsetX=e.clientX-win.offsetLeft;offsetY=e.clientY-win.offsetTop;
    bringToFront(win);
  });
  document.addEventListener('mousemove',e=>{
    if(!drag)return;
    win.style.left=(e.clientX-offsetX)+'px';
    win.style.top=(e.clientY-offsetY)+'px';
  });
  document.addEventListener('mouseup',()=>drag=false);
});
function bringToFront(el){el.style.zIndex=++z;}

// ----- clock -----
function updateClock(){
  document.getElementById('clock').textContent=new Date().toLocaleTimeString();
}
setInterval(updateClock,1000);updateClock();

// ----- wallpaper -----
function changeWallpaper(){
  const url=document.getElementById('wallURL').value;
  if(url){localStorage.setItem('wallpaper',url);applyWallpaper();}
}
function applyWallpaper(){
  const url=localStorage.getItem('wallpaper');
  if(url)document.body.style.background=`url('${url}') center/cover no-repeat`;
}
applyWallpaper();

// ----- lock screen -----
function lockScreen(){
  document.getElementById('lock').style.display='flex';
}
function unlock(){
  const p=document.getElementById('unlockPass').value;
  if(p==='1234'){document.getElementById('lock').style.display='none';document.getElementById('unlockPass').value='';}
  else alert('Wrong password!');
}
</script>
</body>
</html>
